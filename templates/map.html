{% extends 'base.html' %}
{% block title %}Google Map{% endblock %}

{% block head %}
<script type="module" src="static/js/map_search.js"></script>

{% endblock %}

{% block body_attrs %}
  onload="myFunction();"
{% endblock body_attrs%}

{% block body%}
     
<div id="loader"></div>
 
<div id="map"></div>

<!-- script for the google map api -->
<script
async
src="https://maps.googleapis.com/maps/api/js?key={{API_KEY}}&callback=initMap&libraries=places,geometry">
</script>

<!-- script for the loader -->
<script>
  var myVar;
  
  function myFunction() {
    myVar = setTimeout(showPage, 3000);
  }
  
  function showPage() {
    document.getElementById("loader").style.display = "none";
    document.getElementById("map").style.display = "block";
  }
</script>

{% endblock body%}